{"version":3,"sources":["webpack:///./src/views/Login.vue?9966","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?349d","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fluid","fill-height","align-center","justify-center","xs12","sm8","md5","staticClass","dark","color","_v","ref","prepend-icon","name","label","type","rules","emailRules","required","validate-on-blur","on","keyup","$event","indexOf","_k","keyCode","key","submit","model","value","callback","$$v","email","expression","passwordRules","counter","password","to","click","preventDefault","staticRenderFns","Loginvue_type_script_lang_js_","mixins","lib","validations","validators","minLength","Object","maxLength","data","_this","msg","$v","computed","objectSpread","vuex_esm","user","methods","_this2","$refs","form","validate","$invalid","$store","dispatch","username","then","query","role","$router","push","concat","created","messenger_service","views_Loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","installComponents_default","VBtn","VCard","VCardActions","components_VCard","VCardText","VContainer","VFlex","VForm","VLayout","VSpacer","VGrid","VTextField","VToolbar","VToolbarTitle","components_VToolbar"],"mappings":"8GAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,eAAyBE,MAAA,CAAOC,MAAA,GAAAC,cAAA,KAA6B,CAAAJ,EAAA,YAAiBE,MAAA,CAAOG,eAAA,GAAAC,iBAAA,KAAuC,CAAAN,EAAA,UAAeE,MAAA,CAAOK,KAAA,GAAAC,IAAA,GAAAC,IAAA,KAA6B,CAAAT,EAAA,UAAAA,EAAA,aAA+BU,YAAA,mBAAAR,MAAA,CAAsCS,KAAA,GAAAC,MAAA,YAA6B,CAAAZ,EAAA,mBAAAJ,EAAAiB,GAAA,gBAAAb,EAAA,gBAAAA,EAAA,UAA+Ec,IAAA,QAAW,CAAAd,EAAA,eAAAA,EAAA,gBAAuCE,MAAA,CAAOa,eAAA,SAAAC,KAAA,QAAAC,MAAA,QAAAC,KAAA,QAAAC,MAAAvB,EAAAwB,WAAAC,SAAA,GAAAC,mBAAA,IAAiIC,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAA,EAAAP,KAAAQ,QAAA,QAAA9B,EAAA+B,GAAAF,EAAAG,QAAA,WAAAH,EAAAI,IAAA,SAAsF,KAAejC,EAAAkC,OAAAL,KAA2BM,MAAA,CAAQC,MAAApC,EAAA,MAAAqC,SAAA,SAAAC,GAA2CtC,EAAAuC,MAAAD,GAAcE,WAAA,WAAqBpC,EAAA,gBAAqBE,MAAA,CAAOa,eAAA,OAAAC,KAAA,WAAAC,MAAA,WAAAC,KAAA,WAAAC,MAAAvB,EAAAyC,cAAAC,QAAA,GAAAjB,SAAA,GAAAC,mBAAA,IAAwJC,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAA,EAAAP,KAAAQ,QAAA,QAAA9B,EAAA+B,GAAAF,EAAAG,QAAA,WAAAH,EAAAI,IAAA,SAAsF,KAAejC,EAAAkC,OAAAL,KAA2BM,MAAA,CAAQC,MAAApC,EAAA,SAAAqC,SAAA,SAAAC,GAA8CtC,EAAA2C,SAAAL,GAAiBE,WAAA,eAAwB,GAAApC,EAAA,kBAA2BU,YAAA,QAAmB,CAAAV,EAAA,QAAaU,YAAA,gBAA2B,CAAAd,EAAAiB,GAAA,8BAAAb,EAAA,eAAyDU,YAAA,mBAAAR,MAAA,CAAsCsC,GAAA,cAAkB,CAAA5C,EAAAiB,GAAA,cAAAb,EAAA,YAAAA,EAAA,SAAkDE,MAAA,CAAOU,MAAA,WAAkBW,GAAA,CAAKkB,MAAA,SAAAhB,GAAiD,OAAxBA,EAAAiB,iBAAwB9C,EAAAkC,OAAAL,MAA4B,CAAA7B,EAAAiB,GAAA,oCAC5nD8B,EAAA,+DCwDAC,EAAA,CACA5B,KAAA,QAEA6B,OAAA,CAAAC,EAAA,oBAEAC,YAAA,CACAZ,MAAA,CAAAd,SAAA2B,EAAA,YAAAb,MAAAa,EAAA,UACAT,SAAA,CAAAlB,SAAA2B,EAAA,YAAAC,UAAAC,OAAAF,EAAA,aAAAE,CAAA,GAAAC,UAAAD,OAAAF,EAAA,aAAAE,CAAA,MAGAE,KAVA,WAUA,IAAAC,EAAAxD,KACA,OACAsC,MAAA,GACAI,SAAA,GACAnB,WAAA,YACA,IAAAkC,EAAA,GAGA,OAFAD,EAAAE,GAAApB,MAAAd,WAAAiC,GAAA,wBACAD,EAAAE,GAAApB,cAAAmB,GAAA,yBACAA,IAAA,IAEAjB,cAAA,YACA,IAAAiB,EAAA,GAGA,OAFAD,EAAAE,GAAAhB,SAAAlB,WAAAiC,GAAA,0BACAD,EAAAE,GAAAhB,SAAAU,WAAAI,EAAAE,GAAAhB,SAAAY,YAAAG,GAAA,6CACAA,IAAA,MAKAE,SAAAN,OAAAO,EAAA,KAAAP,CAAA,GACAA,OAAAQ,EAAA,KAAAR,CAAA,CACAS,KAAA,mBAIAC,QAAA,CACA9B,OADA,WACA,IAAA+B,EAAAhE,KAGA,GAFAA,KAAAiE,MAAAC,KAAAC,YAEAnE,KAAA0D,GAAAU,SACA,OAAApE,KAAAqE,OAAAC,SAAA,eACAC,SAAAvE,KAAAsC,MACAI,SAAA1C,KAAA0C,WAEA8B,KAAA,WACA,GAAAR,EAAAF,KAAA,CACA,IAAAW,EAAA,UAAAT,EAAAF,KAAAY,KAAA,eACAV,EAAAW,QAAAC,KAAA,eAAAC,OAAAJ,SAOAK,QAtDA,WAuDA9E,KAAA8D,MACAT,OAAA0B,EAAA,KAAA1B,CAAA,uCCjH+X2B,EAAA,uKCO/XC,EAAgB5B,OAAA6B,EAAA,KAAA7B,CACd2B,EACAlF,EACAgD,GACF,EACA,KACA,KACA,MAIeqC,EAAA,WAAAF,EAAiB,QAgBhCG,IAAiBH,EAAA,CAAaI,OAAA,KAAKC,QAAA,KAAMC,aAAAC,EAAA,KAAaC,UAAAD,EAAA,KAAUE,aAAA,KAAWC,QAAA,KAAMC,QAAA,KAAMC,UAAA,KAAQC,QAAAC,EAAA,KAAQC,aAAA,KAAWC,WAAA,KAASC,cAAAC,EAAA","file":"js/login.a4e2a5ca.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\",\"md5\":\"\"}},[_c('v-card',[_c('v-toolbar',{staticClass:\"elevation-1 py-2\",attrs:{\"dark\":\"\",\"color\":\"primary\"}},[_c('v-toolbar-title',[_vm._v(\"Login Form\")]),_c('v-spacer')],1),_c('v-form',{ref:\"form\"},[_c('v-card-text',[_c('v-text-field',{attrs:{\"prepend-icon\":\"person\",\"name\":\"email\",\"label\":\"Email\",\"type\":\"email\",\"rules\":_vm.emailRules,\"required\":\"\",\"validate-on-blur\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)}},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('v-text-field',{attrs:{\"prepend-icon\":\"lock\",\"name\":\"password\",\"label\":\"Password\",\"type\":\"password\",\"rules\":_vm.passwordRules,\"counter\":64,\"required\":\"\",\"validate-on-blur\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('v-card-actions',{staticClass:\"px-3\"},[_c('span',{staticClass:\"accent--text\"},[_vm._v(\"Not have an account yet?\")]),_c('router-link',{staticClass:\"pl-2 white--text\",attrs:{\"to\":\"/register\"}},[_vm._v(\"Register\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_vm._v(\"Login\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid fill-height>\n    <v-layout align-center justify-center>\n      <v-flex xs12 sm8 md5>\n        <v-card>\n          <v-toolbar dark color=\"primary\" class=\"elevation-1 py-2\">\n            <v-toolbar-title>Login Form</v-toolbar-title>\n            <v-spacer></v-spacer>\n          </v-toolbar>\n          <v-form ref=\"form\">\n            <v-card-text>\n              <v-text-field\n                prepend-icon=\"person\"\n                name=\"email\"\n                label=\"Email\"\n                type=\"email\"\n                v-model=\"email\"\n                :rules=\"emailRules\"\n                required\n                validate-on-blur\n                 @keyup.enter=\"submit\"\n              ></v-text-field>\n              <v-text-field\n                prepend-icon=\"lock\"\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                v-model=\"password\"\n                :rules=\"passwordRules\"\n                :counter=\"64\"\n                required\n                validate-on-blur\n                 @keyup.enter=\"submit\"\n              ></v-text-field>\n            </v-card-text>\n            <v-card-actions class=\"px-3\">\n              <span class=\"accent--text\">Not have an account yet?</span> <router-link to=\"/register\" class=\"pl-2 white--text\">Register</router-link>\n              <v-spacer></v-spacer>\n              <v-btn\n                color=\"primary\"\n                @click.prevent=\"submit\"\n              >Login</v-btn>\n            </v-card-actions>\n          </v-form>\n        </v-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\n  //import { VCard, VTextField } from 'vuetify/lib';\n  import { validationMixin } from 'vuelidate';\n  import { required, minLength, maxLength, email } from 'vuelidate/lib/validators';\n  import { mapGetters } from 'vuex';\n  import messengerService from '../services/messenger.service';\n\n  export default {\n    name: 'login',\n\n    mixins: [validationMixin],\n\n    validations: {\n      email: { required, email },\n      password: { required, minLength: minLength(8), maxLength: maxLength(64) }\n    },\n\n    data() {\n      return {\n        email: '',\n        password: '',\n        emailRules: [() => {\n          let msg = '';\n          if (!this.$v.email.required) msg += 'E-mail is required. ';\n          if (!this.$v.email.email) msg += 'Must be valid e-mail.';\n          return msg || true;\n        }],\n        passwordRules: [() => {\n          let msg = '';\n          if (!this.$v.password.required) msg += 'Password is required. ';\n          if (!this.$v.password.minLength || !this.$v.password.maxLength) msg += 'Password must contain 8 to 64 characters.';\n          return msg || true;\n        }]\n      }\n    },\n\n    computed: {\n      ...mapGetters({\n        user: 'users/getUser'\n      })\n    },\n\n    methods: {\n      submit() {\n        this.$refs.form.validate();\n\n        if (!this.$v.$invalid) {\n          return this.$store.dispatch('users/login', {\n            username: this.email,\n            password: this.password\n          })\n            .then(() => {\n              if (this.user) {\n                const query = this.user.role === 'owner' ? '?own=true' : '';\n                this.$router.push(`/restaurants${query}`);\n              }\n            });\n        }\n      }\n    },\n\n    created() {\n      if (this.user) {\n        messengerService('You are already logged in.', 'info');\n        //this.$router.push('/restaurants');\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=6fa9be64&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!C:/Users/MCL/_________/webdev/priv/mevn2/mevn-example/client/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VForm } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VContainer,VFlex,VForm,VLayout,VSpacer,VTextField,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}